{
  "name": "EMACrossoverStrategy",
  "description": "EMA crossover strategy - buy when fast EMA crosses above slow EMA, sell when fast EMA crosses below slow EMA",
  "code": "import pandas as pd\nimport numpy as np\nimport ta\nfrom engine.strategy import BaseStrategy, Signal\n\nclass EMACrossoverStrategy(BaseStrategy):\n    def on_bar(self, bar, history):\n        if len(history) < 51:\n            return None\n        \n        fast_ema = ta.trend.EMAIndicator(history['close'], window=21).ema_indicator()\n        slow_ema = ta.trend.EMAIndicator(history['close'], window=50).ema_indicator()\n        \n        current_fast = fast_ema.iloc[-1]\n        current_slow = slow_ema.iloc[-1]\n        prev_fast = fast_ema.iloc[-2]\n        prev_slow = slow_ema.iloc[-2]\n        \n        # Buy signal: fast EMA crosses above slow EMA\n        if prev_fast <= prev_slow and current_fast > current_slow:\n            return Signal(action='buy', size=1.0)\n        \n        # Sell signal: fast EMA crosses below slow EMA\n        if prev_fast >= prev_slow and current_fast < current_slow:\n            return Signal(action='sell', size=1.0)\n        \n        return None",
  "parameters": {
    "fast_ema_period": 21,
    "slow_ema_period": 50
  },
  "symbol": "NQ=F",
  "interval": "1m",
  "created_at": "2026-02-24T02:17:24.388195",
  "backtest_metrics": {
    "total_trades": 1064,
    "win_rate": 0.2706766917293233,
    "loss_rate": 0.7293233082706767,
    "total_return": -3310.0,
    "total_return_pct": -13.24,
    "max_drawdown": -43325.0,
    "max_drawdown_pct": -79.44,
    "max_consecutive_losses": 19,
    "max_consecutive_wins": 4,
    "profit_factor": 0.99,
    "sharpe_ratio": -0.04,
    "avg_win": 1192.78,
    "avg_loss": -446.95,
    "sortino_ratio": -0.12,
    "calmar_ratio": 0.04,
    "recovery_factor": 0.08,
    "expectancy": -3.11,
    "expectancy_ratio": -0.01,
    "payoff_ratio": 2.67,
    "deflated_sharpe_ratio": -1.3709,
    "dsr_pvalue": 0.9148
  },
  "monte_carlo": {
    "num_simulations": 1000,
    "num_trades": 1064,
    "mean_return": -3310.0,
    "median_return": -3310.0,
    "std_return": 0.0,
    "percentile_5": -3310.0,
    "percentile_25": -3310.0,
    "percentile_75": -3310.0,
    "percentile_95": -3310.0,
    "mean_max_drawdown": -42309.29,
    "median_max_drawdown": -40990.0,
    "worst_max_drawdown": -88205.0,
    "percentile_95_drawdown": -61033.75,
    "probability_of_ruin": 83.8,
    "probability_of_profit": 0.0,
    "equity_percentiles": {
      "p5": [
        25000.0,
        21929.0,
        20388.25,
        18948.5,
        17524.75,
        16430.0,
        15665.0,
        14823.5,
        14164.25,
        13398.5,
        12599.75,
        11727.5,
        11034.5,
        10328.0,
        10178.0,
        9950.5,
        9554.75,
        8625.0,
        8172.75,
        7568.25,
        7311.25,
        6649.0,
        6168.25,
        5540.75,
        5328.75,
        5424.75,
        4930.0,
        4701.75,
        4032.25,
        3644.25,
        4040.25,
        3424.75,
        2846.75,
        2452.0,
        1830.0,
        1962.0,
        2109.5,
        2078.75,
        1842.25,
        2007.5,
        1072.5,
        1411.0,
        1324.75,
        926.25,
        842.0,
        990.0,
        226.5,
        15.5,
        36.25,
        -925.25,
        -1910.25,
        -2096.25,
        -2027.75,
        -2203.75,
        -1250.0,
        -1715.25,
        -2066.0,
        -2792.5,
        -3356.5,
        -2777.0,
        -3308.0,
        -3899.0,
        -4025.25,
        -4220.0,
        -4091.0,
        -4467.5,
        -5284.25,
        -5495.5,
        -4862.0,
        -5187.0,
        -4276.25,
        -5370.5,
        -5368.75,
        -4814.5,
        -4712.0,
        -4741.75,
        -4468.25,
        -5405.25,
        -5512.25,
        -5736.5,
        -5828.0,
        -5893.75,
        -6040.25,
        -5703.25,
        -5710.75,
        -5798.75,
        -6095.75,
        -6651.75,
        -7135.0,
        -8440.0,
        -7450.0,
        -8003.75,
        -7967.0,
        -8286.0,
        -6956.5,
        -7572.0,
        -8437.25,
        -7482.75,
        -7214.25,
        -7934.25,
        -7427.75,
        -6828.0,
        -6612.5,
        -6755.5,
        -6535.25,
        -6549.5,
        -7023.5,
        -6880.75,
        -7487.25,
        -6800.25,
        -7331.25,
        -7019.5,
        -7784.5,
        -8023.5,
        -7985.25,
        -7327.0,
        -7611.0,
        -7346.5,
        -7073.75,
        -8111.75,
        -6935.0,
        -7222.0,
        -7339.75,
        -7240.25,
        -8231.0,
        -7920.25,
        -7949.75,
        -7538.75,
        -7924.25,
        -6310.0,
        -6463.25,
        -7154.0,
        -7379.25,
        -9055.5,
        -8618.75,
        -7431.25,
        -7418.0,
        -6662.0,
        -7135.75,
        -7104.25,
        -7899.25,
        -6422.75,
        -6532.0,
        -5926.25,
        -6951.25,
        -6931.0,
        -6919.75,
        -6090.5,
        -5233.25,
        -5106.0,
        -5268.75,
        -5777.75,
        -5276.25,
        -4461.5,
        -5156.5,
        -4110.25,
        -5120.75,
        -4061.5,
        -4333.75,
        -4414.75,
        -5240.75,
        -4380.0,
        -4316.0,
        -4420.25,
        -4485.5,
        -4269.75,
        -4459.75,
        -4719.25,
        -4322.75,
        -3680.25,
        -4486.25,
        -3620.75,
        -3656.25,
        -4222.75,
        -3033.0,
        -3465.75,
        -2586.0,
        -2510.5,
        -1304.5,
        -1920.5,
        -1713.75,
        -1543.75,
        -1270.25,
        -976.25,
        -517.75,
        -624.25,
        -479.5,
        -15.0,
        767.75,
        1178.75,
        865.25,
        806.75,
        2387.0,
        2450.5,
        2275.0,
        2980.0,
        3729.5,
        3357.25,
        3387.75,
        4437.5,
        5964.25,
        6267.75,
        7510.25,
        9442.75,
        8969.75,
        9465.5,
        10051.25,
        11153.25,
        12072.25,
        12495.0,
        13764.75,
        15294.75,
        17544.5,
        21690.0
      ],
      "p25": [
        25000.0,
        23311.25,
        22288.75,
        21648.75,
        20820.0,
        20502.5,
        20138.75,
        19535.0,
        19298.75,
        18752.5,
        18487.5,
        17981.25,
        18190.0,
        18011.25,
        17458.75,
        17433.75,
        17132.5,
        17113.75,
        16632.5,
        16422.5,
        16251.25,
        16195.0,
        16421.25,
        15805.0,
        15058.75,
        15247.5,
        15263.75,
        15260.0,
        15118.75,
        15000.0,
        14827.5,
        14375.0,
        14515.0,
        14321.25,
        14170.0,
        14095.0,
        14040.0,
        13301.25,
        13345.0,
        13903.75,
        13787.5,
        13913.75,
        13526.25,
        13371.25,
        13306.25,
        13286.25,
        13331.25,
        12710.0,
        12782.5,
        12626.25,
        12192.5,
        12002.5,
        12587.5,
        12302.5,
        12136.25,
        12128.75,
        11846.25,
        11758.75,
        11412.5,
        11632.5,
        11811.25,
        11593.75,
        11590.0,
        11321.25,
        11007.5,
        11057.5,
        10826.25,
        11111.25,
        11446.25,
        10637.5,
        10315.0,
        10221.25,
        10381.25,
        10626.25,
        10610.0,
        10318.75,
        10096.25,
        9630.0,
        9891.25,
        10165.0,
        10485.0,
        10802.5,
        10588.75,
        10740.0,
        10313.75,
        10801.25,
        10605.0,
        10677.5,
        10057.5,
        9785.0,
        10332.5,
        10835.0,
        10478.75,
        10833.75,
        10907.5,
        10352.5,
        10373.75,
        10948.75,
        10950.0,
        10903.75,
        10525.0,
        10723.75,
        11023.75,
        10441.25,
        11022.5,
        11041.25,
        11176.25,
        11253.75,
        11217.5,
        11095.0,
        10910.0,
        11062.5,
        10670.0,
        10226.25,
        10370.0,
        11068.75,
        10238.75,
        9825.0,
        9803.75,
        9880.0,
        9658.75,
        9825.0,
        9851.25,
        9456.25,
        10028.75,
        10063.75,
        9773.75,
        10085.0,
        10083.75,
        10512.5,
        11300.0,
        10615.0,
        10438.75,
        10331.25,
        10541.25,
        10723.75,
        10395.0,
        10758.75,
        10218.75,
        10683.75,
        10626.25,
        11080.0,
        10878.75,
        10875.0,
        11241.25,
        10617.5,
        10550.0,
        10393.75,
        10896.25,
        11187.5,
        10655.0,
        11130.0,
        10808.75,
        11201.25,
        11560.0,
        11138.75,
        11485.0,
        11455.0,
        11491.25,
        11827.5,
        11673.75,
        12580.0,
        12463.75,
        12343.75,
        12173.75,
        12288.75,
        12168.75,
        12428.75,
        12478.75,
        12112.5,
        12262.5,
        12388.75,
        12768.75,
        13020.0,
        13151.25,
        13420.0,
        13500.0,
        13577.5,
        13433.75,
        13802.5,
        13283.75,
        13533.75,
        13502.5,
        13397.5,
        12937.5,
        13546.25,
        13953.75,
        14275.0,
        14601.25,
        14913.75,
        15007.5,
        15016.25,
        14821.25,
        14913.75,
        14937.5,
        15063.75,
        15118.75,
        15448.75,
        15970.0,
        16347.5,
        16540.0,
        17032.5,
        17238.75,
        17271.25,
        17461.25,
        17608.75,
        17920.0,
        18235.0,
        18593.75,
        19201.25,
        19758.75,
        20268.75,
        20940.0,
        21690.0
      ],
      "p50": [
        25000.0,
        24335.0,
        24142.5,
        23932.5,
        23900.0,
        23647.5,
        23792.5,
        23620.0,
        23917.5,
        23612.5,
        23817.5,
        23597.5,
        23470.0,
        23250.0,
        23345.0,
        23015.0,
        23027.5,
        22842.5,
        23125.0,
        23150.0,
        23525.0,
        23037.5,
        23340.0,
        23065.0,
        23077.5,
        22882.5,
        23187.5,
        23220.0,
        22895.0,
        22737.5,
        22735.0,
        22525.0,
        22705.0,
        22865.0,
        22890.0,
        22460.0,
        22517.5,
        22780.0,
        22700.0,
        22612.5,
        22502.5,
        22580.0,
        22642.5,
        23120.0,
        23420.0,
        23035.0,
        23207.5,
        23230.0,
        23105.0,
        22950.0,
        23035.0,
        23015.0,
        23017.5,
        22897.5,
        22950.0,
        23025.0,
        22647.5,
        22727.5,
        23220.0,
        23390.0,
        23470.0,
        23830.0,
        23672.5,
        23477.5,
        23197.5,
        23202.5,
        23240.0,
        22897.5,
        23247.5,
        23490.0,
        23577.5,
        23045.0,
        23102.5,
        23122.5,
        22695.0,
        22787.5,
        22732.5,
        22185.0,
        22617.5,
        22582.5,
        22565.0,
        22645.0,
        22887.5,
        22607.5,
        22585.0,
        22482.5,
        22797.5,
        22287.5,
        22832.5,
        22990.0,
        23255.0,
        22837.5,
        22955.0,
        23070.0,
        22955.0,
        23060.0,
        23217.5,
        22960.0,
        23055.0,
        22997.5,
        22820.0,
        22855.0,
        22997.5,
        23070.0,
        23040.0,
        23277.5,
        22697.5,
        22567.5,
        22275.0,
        23072.5,
        22662.5,
        22692.5,
        22807.5,
        22895.0,
        22487.5,
        22835.0,
        22540.0,
        22522.5,
        22655.0,
        22337.5,
        22685.0,
        22600.0,
        22432.5,
        22595.0,
        22307.5,
        22382.5,
        22930.0,
        22920.0,
        22672.5,
        23055.0,
        22967.5,
        22990.0,
        23025.0,
        22960.0,
        22865.0,
        22690.0,
        22650.0,
        22735.0,
        22560.0,
        22892.5,
        23385.0,
        23467.5,
        23000.0,
        22900.0,
        23410.0,
        23345.0,
        23462.5,
        23240.0,
        23085.0,
        22892.5,
        22965.0,
        22777.5,
        22787.5,
        22725.0,
        22460.0,
        22440.0,
        22432.5,
        22435.0,
        22430.0,
        22362.5,
        22450.0,
        22022.5,
        22907.5,
        22292.5,
        22660.0,
        22320.0,
        22245.0,
        22710.0,
        22780.0,
        22832.5,
        23200.0,
        22822.5,
        22637.5,
        23282.5,
        23220.0,
        22787.5,
        23462.5,
        22885.0,
        22920.0,
        22835.0,
        22977.5,
        23087.5,
        22912.5,
        22882.5,
        23150.0,
        22757.5,
        22660.0,
        22442.5,
        22597.5,
        22347.5,
        22717.5,
        22820.0,
        23227.5,
        23147.5,
        23485.0,
        23430.0,
        23415.0,
        23212.5,
        23055.0,
        22990.0,
        22940.0,
        23132.5,
        23100.0,
        22980.0,
        23002.5,
        22892.5,
        22525.0,
        22630.0,
        22740.0,
        22817.5,
        22605.0,
        22437.5,
        22217.5,
        21690.0
      ],
      "p75": [
        25000.0,
        25923.75,
        26501.25,
        26943.75,
        27391.25,
        27840.0,
        28237.5,
        28271.25,
        28776.25,
        29071.25,
        29217.5,
        29701.25,
        29640.0,
        29516.25,
        29598.75,
        29720.0,
        30071.25,
        30202.5,
        30431.25,
        30132.5,
        30441.25,
        30670.0,
        31176.25,
        30880.0,
        31050.0,
        31155.0,
        31200.0,
        30906.25,
        31188.75,
        31501.25,
        31767.5,
        31686.25,
        32483.75,
        32338.75,
        32852.5,
        32666.25,
        32636.25,
        32956.25,
        33237.5,
        33241.25,
        32881.25,
        32980.0,
        33386.25,
        33421.25,
        33872.5,
        34173.75,
        34018.75,
        33486.25,
        34040.0,
        33980.0,
        34123.75,
        34255.0,
        34587.5,
        34050.0,
        34276.25,
        34521.25,
        34361.25,
        34492.5,
        34438.75,
        34285.0,
        34433.75,
        34801.25,
        34406.25,
        34206.25,
        34006.25,
        34063.75,
        34592.5,
        35428.75,
        34895.0,
        35327.5,
        35526.25,
        35385.0,
        35551.25,
        35718.75,
        36066.25,
        36073.75,
        36745.0,
        36931.25,
        36738.75,
        36670.0,
        37010.0,
        36706.25,
        36766.25,
        36568.75,
        36493.75,
        36321.25,
        36567.5,
        36482.5,
        36498.75,
        36733.75,
        36213.75,
        35630.0,
        35291.25,
        35151.25,
        35525.0,
        35830.0,
        36002.5,
        35696.25,
        35595.0,
        35642.5,
        36181.25,
        35643.75,
        35630.0,
        35567.5,
        35486.25,
        35641.25,
        35612.5,
        35566.25,
        35321.25,
        35815.0,
        35957.5,
        35605.0,
        35496.25,
        35338.75,
        35320.0,
        35576.25,
        35155.0,
        35818.75,
        35302.5,
        35185.0,
        35141.25,
        35350.0,
        35646.25,
        35798.75,
        36158.75,
        35890.0,
        36261.25,
        36541.25,
        35967.5,
        36223.75,
        36096.25,
        35502.5,
        35478.75,
        35057.5,
        35746.25,
        35278.75,
        35100.0,
        34786.25,
        34763.75,
        34982.5,
        34527.5,
        34497.5,
        34296.25,
        34275.0,
        34457.5,
        33880.0,
        33446.25,
        33715.0,
        33378.75,
        33532.5,
        33887.5,
        34093.75,
        33785.0,
        34130.0,
        33720.0,
        33748.75,
        33565.0,
        33275.0,
        33838.75,
        33711.25,
        33628.75,
        32797.5,
        33201.25,
        33166.25,
        33272.5,
        32801.25,
        32496.25,
        32491.25,
        32855.0,
        32885.0,
        32676.25,
        32705.0,
        32552.5,
        32860.0,
        32850.0,
        33127.5,
        32903.75,
        32491.25,
        32386.25,
        32192.5,
        31822.5,
        31902.5,
        32100.0,
        31857.5,
        31670.0,
        31655.0,
        31777.5,
        31635.0,
        31451.25,
        30985.0,
        30998.75,
        31045.0,
        31007.5,
        30660.0,
        30068.75,
        30081.25,
        30111.25,
        29402.5,
        29448.75,
        29135.0,
        28650.0,
        28481.25,
        28262.5,
        27962.5,
        27732.5,
        27120.0,
        26822.5,
        26611.25,
        25866.25,
        25421.25,
        24732.5,
        24067.5,
        23168.75,
        21690.0
      ],
      "p95": [
        25000.0,
        29245.25,
        31976.75,
        34282.75,
        35045.5,
        35613.25,
        36337.5,
        36490.75,
        37364.75,
        37791.25,
        38133.75,
        38921.5,
        39330.0,
        40506.5,
        41021.25,
        40073.0,
        40712.75,
        41772.0,
        42196.5,
        42256.5,
        42848.5,
        44237.0,
        44381.0,
        44506.0,
        45099.5,
        45345.25,
        44642.25,
        44913.0,
        46216.25,
        46636.25,
        46599.5,
        46228.0,
        47149.0,
        47464.75,
        47490.5,
        47816.0,
        47962.0,
        48203.75,
        48519.75,
        47813.0,
        48481.5,
        49269.5,
        48519.5,
        47866.0,
        47737.25,
        48015.5,
        48385.5,
        48221.5,
        49187.5,
        48903.5,
        49131.0,
        48795.25,
        49308.5,
        49408.25,
        49747.0,
        49979.0,
        49782.25,
        49876.75,
        50382.5,
        50672.75,
        50505.75,
        50744.25,
        50551.5,
        51005.0,
        51915.75,
        50950.25,
        51018.5,
        51692.25,
        51859.25,
        51754.25,
        54023.0,
        53903.75,
        54391.0,
        53232.5,
        52670.5,
        52519.0,
        52545.0,
        53995.0,
        53659.5,
        55558.5,
        54740.75,
        54065.25,
        53521.5,
        53105.5,
        53147.25,
        53896.25,
        53363.5,
        52982.5,
        52596.75,
        52708.25,
        52441.0,
        52950.75,
        52700.0,
        53652.75,
        52997.75,
        53194.5,
        52498.25,
        52617.5,
        53073.75,
        53932.25,
        52967.5,
        54021.5,
        54036.0,
        53449.0,
        54532.5,
        54893.5,
        54652.75,
        54319.0,
        54228.75,
        53965.75,
        54610.25,
        54132.0,
        53954.75,
        53729.5,
        53950.0,
        54215.5,
        54531.5,
        54457.0,
        53984.25,
        54266.75,
        54940.25,
        54546.5,
        53677.0,
        53821.5,
        54435.5,
        54311.0,
        53922.75,
        54542.75,
        53985.5,
        54546.5,
        54248.0,
        54141.75,
        55121.25,
        54581.0,
        54422.0,
        53708.75,
        54688.0,
        54981.75,
        54506.5,
        53941.5,
        54293.0,
        53863.25,
        54116.0,
        53725.75,
        52088.25,
        52222.75,
        52266.25,
        52178.75,
        53047.25,
        52778.5,
        52409.75,
        52166.0,
        51629.25,
        51626.5,
        50690.25,
        50926.25,
        51138.0,
        51365.75,
        50659.0,
        50520.75,
        51374.0,
        50183.75,
        49655.25,
        49579.0,
        49330.5,
        49467.0,
        48824.0,
        48433.25,
        47998.75,
        47974.25,
        47936.75,
        47665.75,
        46977.25,
        46247.25,
        46614.0,
        46486.25,
        45995.25,
        45411.25,
        45040.75,
        45089.0,
        44186.75,
        43635.5,
        43327.5,
        44173.75,
        43928.75,
        43168.0,
        42638.25,
        42162.25,
        42020.75,
        41537.75,
        42096.75,
        41677.5,
        41508.75,
        40636.75,
        39652.75,
        38878.25,
        38320.25,
        37644.0,
        37289.5,
        36847.25,
        36183.0,
        35695.5,
        34591.75,
        33611.5,
        33211.0,
        32156.25,
        31285.25,
        30615.0,
        29590.5,
        28776.5,
        27570.5,
        26315.0,
        24456.0,
        21690.0
      ]
    },
    "method": "reshuffle",
    "robustness_score": null,
    "robustness_grade": null,
    "sub_results": null
  }
}