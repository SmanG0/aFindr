{
  "name": "EMAGoldenCrossStrategy",
  "description": "EMA crossover strategy - buy on golden cross (20 EMA above 50 EMA), sell on death cross (20 EMA below 50 EMA)",
  "code": "import pandas as pd\nimport numpy as np\nimport ta\nfrom engine.strategy import BaseStrategy, Signal\n\nclass EMAGoldenCrossStrategy(BaseStrategy):\n    def on_bar(self, bar, history):\n        if len(history) < 51:\n            return None\n        \n        fast_ema = ta.trend.EMAIndicator(history['close'], window=20).ema_indicator()\n        slow_ema = ta.trend.EMAIndicator(history['close'], window=50).ema_indicator()\n        \n        current_fast = fast_ema.iloc[-1]\n        current_slow = slow_ema.iloc[-1]\n        prev_fast = fast_ema.iloc[-2]\n        prev_slow = slow_ema.iloc[-2]\n        \n        # Golden cross: 20 EMA crosses above 50 EMA\n        if prev_fast <= prev_slow and current_fast > current_slow:\n            return Signal(action='buy', size=1.0)\n        \n        # Death cross: 20 EMA crosses below 50 EMA\n        if prev_fast >= prev_slow and current_fast < current_slow:\n            return Signal(action='sell', size=1.0)\n        \n        return None",
  "parameters": {
    "fast_ema_period": 20,
    "slow_ema_period": 50
  },
  "symbol": "NQ=F",
  "interval": "1d",
  "created_at": "2026-02-24T04:51:31.888982",
  "backtest_metrics": {
    "total_trades": 2,
    "win_rate": 0.5,
    "loss_rate": 0.5,
    "total_return": 62800.0,
    "total_return_pct": 251.2,
    "max_drawdown": -14840.0,
    "max_drawdown_pct": -14.46,
    "max_consecutive_losses": 1,
    "max_consecutive_wins": 1,
    "profit_factor": 5.23,
    "sharpe_ratio": 10.78,
    "avg_win": 77640.0,
    "avg_loss": -14840.0,
    "sortino_ratio": 0.0,
    "calmar_ratio": 2189.14,
    "recovery_factor": 4.23,
    "expectancy": 31400.0,
    "expectancy_ratio": 2.12,
    "payoff_ratio": 5.23,
    "deflated_sharpe_ratio": 1.4022,
    "dsr_pvalue": 0.0804
  },
  "monte_carlo": {
    "num_simulations": 1000,
    "num_trades": 2,
    "mean_return": 62800.0,
    "median_return": 62800.0,
    "std_return": 0.0,
    "percentile_5": 62800.0,
    "percentile_25": 62800.0,
    "percentile_75": 62800.0,
    "percentile_95": 62800.0,
    "mean_max_drawdown": -14840.0,
    "median_max_drawdown": -14840.0,
    "worst_max_drawdown": -14840.0,
    "percentile_95_drawdown": -14840.0,
    "probability_of_ruin": 50.6,
    "probability_of_profit": 100.0,
    "equity_percentiles": {
      "p5": [
        25000.0,
        10160.0,
        87800.0
      ],
      "p25": [
        25000.0,
        10160.0,
        87800.0
      ],
      "p50": [
        25000.0,
        10160.0,
        87800.0
      ],
      "p75": [
        25000.0,
        102640.0,
        87800.0
      ],
      "p95": [
        25000.0,
        102640.0,
        87800.0
      ]
    },
    "method": "reshuffle",
    "robustness_score": null,
    "robustness_grade": null,
    "sub_results": null
  }
}