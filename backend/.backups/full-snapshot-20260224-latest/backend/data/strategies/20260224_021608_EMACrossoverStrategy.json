{
  "name": "EMACrossoverStrategy",
  "description": "EMA crossover strategy - buy when fast EMA crosses above slow EMA, sell when fast EMA crosses below slow EMA",
  "code": "import pandas as pd\nimport numpy as np\nimport ta\nfrom engine.strategy import BaseStrategy, Signal\n\nclass EMACrossoverStrategy(BaseStrategy):\n    def on_bar(self, bar, history):\n        if len(history) < 22:\n            return None\n        \n        fast_ema = ta.trend.EMAIndicator(history['close'], window=9).ema_indicator()\n        slow_ema = ta.trend.EMAIndicator(history['close'], window=21).ema_indicator()\n        \n        current_fast = fast_ema.iloc[-1]\n        current_slow = slow_ema.iloc[-1]\n        prev_fast = fast_ema.iloc[-2]\n        prev_slow = slow_ema.iloc[-2]\n        \n        # Buy when fast EMA crosses above slow EMA\n        if prev_fast <= prev_slow and current_fast > current_slow:\n            return Signal(action='buy', size=1.0)\n        \n        # Sell when fast EMA crosses below slow EMA\n        if prev_fast >= prev_slow and current_fast < current_slow:\n            return Signal(action='sell', size=1.0)\n        \n        return None",
  "parameters": {
    "fast_period": 9,
    "slow_period": 21
  },
  "symbol": "NQ=F",
  "interval": "1m",
  "created_at": "2026-02-24T02:16:08.950402",
  "backtest_metrics": {
    "total_trades": 2590,
    "win_rate": 0.27374517374517376,
    "loss_rate": 0.7262548262548263,
    "total_return": -35820.0,
    "total_return_pct": -143.28,
    "max_drawdown": -56810.0,
    "max_drawdown_pct": -145.89,
    "max_consecutive_losses": 19,
    "max_consecutive_wins": 6,
    "profit_factor": 0.93,
    "sharpe_ratio": -0.31,
    "avg_win": 682.45,
    "avg_loss": -276.28,
    "sortino_ratio": -0.82,
    "calmar_ratio": 0.1,
    "recovery_factor": 0.63,
    "expectancy": -13.83,
    "expectancy_ratio": -0.05,
    "payoff_ratio": 2.47,
    "deflated_sharpe_ratio": -15.3819,
    "dsr_pvalue": 1.0
  },
  "monte_carlo": {
    "num_simulations": 1000,
    "num_trades": 2590,
    "mean_return": -35820.0,
    "median_return": -35820.0,
    "std_return": 0.0,
    "percentile_5": -35820.0,
    "percentile_25": -35820.0,
    "percentile_75": -35820.0,
    "percentile_95": -35820.0,
    "mean_max_drawdown": -58144.79,
    "median_max_drawdown": -56802.5,
    "worst_max_drawdown": -98225.0,
    "percentile_95_drawdown": -78556.75,
    "probability_of_ruin": 100.0,
    "probability_of_profit": 0.0,
    "equity_percentiles": {
      "p5": [
        25000.0,
        21729.75,
        19854.75,
        18504.75,
        17222.5,
        15853.75,
        15024.75,
        13668.25,
        12856.0,
        12204.75,
        11391.25,
        10507.75,
        9710.5,
        9629.75,
        9062.25,
        8269.5,
        7670.5,
        6755.0,
        5894.25,
        5343.5,
        4806.5,
        4655.75,
        4628.25,
        4055.0,
        3039.75,
        3108.0,
        2539.5,
        2393.0,
        1196.5,
        383.5,
        -136.0,
        -1011.5,
        -1275.25,
        -1397.0,
        -1561.75,
        -2469.0,
        -3227.5,
        -3568.5,
        -3267.0,
        -4200.75,
        -4898.5,
        -5142.0,
        -6105.25,
        -6268.0,
        -7013.25,
        -7065.75,
        -7319.75,
        -6918.75,
        -7355.0,
        -7208.5,
        -7620.25,
        -7236.0,
        -7103.5,
        -7445.5,
        -7695.25,
        -8023.0,
        -8452.5,
        -8525.0,
        -9432.25,
        -9721.25,
        -9535.25,
        -9805.75,
        -10652.5,
        -11402.25,
        -11449.0,
        -10389.5,
        -11275.75,
        -11147.5,
        -11667.0,
        -12476.5,
        -13053.0,
        -13157.5,
        -13504.0,
        -14198.0,
        -13824.0,
        -14778.75,
        -14319.25,
        -14550.25,
        -14416.0,
        -15031.75,
        -14891.75,
        -15397.75,
        -15520.5,
        -14815.0,
        -14932.0,
        -16140.0,
        -16324.75,
        -16417.25,
        -16638.0,
        -17084.75,
        -16703.25,
        -17244.25,
        -17460.0,
        -17857.75,
        -18062.75,
        -18078.5,
        -17770.0,
        -18522.25,
        -18097.0,
        -17953.0,
        -18060.75,
        -17948.5,
        -18344.75,
        -19347.25,
        -18639.5,
        -19007.75,
        -19511.0,
        -19433.0,
        -19481.25,
        -20028.25,
        -20335.25,
        -19673.75,
        -20084.25,
        -19815.5,
        -20422.25,
        -21939.5,
        -22130.75,
        -22282.5,
        -21533.75,
        -20966.75,
        -21326.0,
        -21357.75,
        -22086.0,
        -22193.5,
        -22457.75,
        -22894.0,
        -22679.75,
        -22194.75,
        -22661.0,
        -23671.0,
        -24134.25,
        -23504.25,
        -23552.5,
        -23895.75,
        -24034.25,
        -25263.25,
        -25609.25,
        -24925.25,
        -25114.0,
        -25890.75,
        -25837.5,
        -25132.25,
        -25708.25,
        -25888.5,
        -26148.5,
        -26205.75,
        -26863.0,
        -27005.75,
        -27676.75,
        -27501.5,
        -25842.75,
        -25841.25,
        -25911.25,
        -27110.25,
        -26182.0,
        -26520.75,
        -26915.25,
        -26883.5,
        -26942.75,
        -26854.5,
        -26998.25,
        -27518.0,
        -27602.75,
        -27552.75,
        -27890.75,
        -27262.75,
        -27282.25,
        -27443.0,
        -28102.25,
        -28442.5,
        -28899.25,
        -28851.75,
        -28683.75,
        -27979.0,
        -28120.75,
        -28415.75,
        -28650.25,
        -28241.0,
        -27698.5,
        -27614.0,
        -28006.25,
        -27922.25,
        -27447.75,
        -26867.0,
        -26415.25,
        -25870.0,
        -25695.75,
        -26106.25,
        -26368.25,
        -25912.0,
        -24700.25,
        -24569.25,
        -24650.25,
        -24785.75,
        -24435.0,
        -24515.0,
        -24140.5,
        -23687.0,
        -23641.5,
        -23151.0,
        -23421.75,
        -23300.5,
        -22695.25,
        -22523.0,
        -21983.25,
        -21835.0,
        -22296.75,
        -21518.75,
        -20765.25,
        -20266.25,
        -20576.75,
        -19170.25,
        -18309.75,
        -16911.0,
        -16105.5,
        -14722.75,
        -10820.0
      ],
      "p25": [
        25000.0,
        23142.5,
        22408.75,
        21467.5,
        20708.75,
        20198.75,
        19535.0,
        19268.75,
        18653.75,
        18055.0,
        18035.0,
        17496.25,
        16935.0,
        16668.75,
        16232.5,
        15592.5,
        15583.75,
        15243.75,
        15260.0,
        14826.25,
        14443.75,
        14371.25,
        14368.75,
        13781.25,
        13848.75,
        13563.75,
        13310.0,
        12867.5,
        12787.5,
        12343.75,
        11873.75,
        11680.0,
        11423.75,
        11231.25,
        10942.5,
        10832.5,
        10530.0,
        9955.0,
        9943.75,
        9736.25,
        9772.5,
        9230.0,
        9011.25,
        8592.5,
        8135.0,
        8045.0,
        7820.0,
        8068.75,
        7757.5,
        7620.0,
        7326.25,
        7508.75,
        7086.25,
        6936.25,
        6346.25,
        6353.75,
        6357.5,
        5783.75,
        5747.5,
        5135.0,
        5186.25,
        5088.75,
        4736.25,
        4446.25,
        4588.75,
        4005.0,
        4226.25,
        4005.0,
        3742.5,
        3086.25,
        2432.5,
        2253.75,
        2177.5,
        2300.0,
        1935.0,
        1950.0,
        1133.75,
        1330.0,
        747.5,
        608.75,
        730.0,
        391.25,
        -63.75,
        -452.5,
        -415.0,
        -572.5,
        -945.0,
        -358.75,
        -613.75,
        -877.5,
        -1025.0,
        -1183.75,
        -977.5,
        -2046.25,
        -1472.5,
        -1523.75,
        -1531.25,
        -2237.5,
        -2443.75,
        -2760.0,
        -2493.75,
        -2746.25,
        -3036.25,
        -3270.0,
        -2873.75,
        -2957.5,
        -3142.5,
        -3281.25,
        -3685.0,
        -3737.5,
        -3703.75,
        -3998.75,
        -4010.0,
        -4511.25,
        -4625.0,
        -4438.75,
        -4993.75,
        -4602.5,
        -5092.5,
        -5565.0,
        -4980.0,
        -5573.75,
        -5987.5,
        -5696.25,
        -5578.75,
        -5610.0,
        -6288.75,
        -6507.5,
        -7046.25,
        -7022.5,
        -7368.75,
        -7392.5,
        -7560.0,
        -7372.5,
        -7740.0,
        -8045.0,
        -7861.25,
        -8301.25,
        -8366.25,
        -8525.0,
        -8628.75,
        -9023.75,
        -9180.0,
        -8868.75,
        -9397.5,
        -10213.75,
        -9855.0,
        -10017.5,
        -10066.25,
        -10382.5,
        -11403.75,
        -11231.25,
        -11610.0,
        -11977.5,
        -11343.75,
        -11715.0,
        -11961.25,
        -12010.0,
        -12073.75,
        -12450.0,
        -12307.5,
        -12693.75,
        -12876.25,
        -12862.5,
        -12716.25,
        -12807.5,
        -13188.75,
        -12565.0,
        -12620.0,
        -12791.25,
        -13002.5,
        -13072.5,
        -12892.5,
        -13215.0,
        -13420.0,
        -13767.5,
        -13492.5,
        -13511.25,
        -13113.75,
        -13370.0,
        -13480.0,
        -13356.25,
        -13478.75,
        -13376.25,
        -13270.0,
        -13336.25,
        -13045.0,
        -12950.0,
        -13130.0,
        -13056.25,
        -13676.25,
        -13686.25,
        -13516.25,
        -13542.5,
        -13480.0,
        -13511.25,
        -13451.25,
        -13673.75,
        -13400.0,
        -13321.25,
        -13067.5,
        -13297.5,
        -13356.25,
        -13512.5,
        -13428.75,
        -13418.75,
        -13383.75,
        -13582.5,
        -13650.0,
        -13583.75,
        -13232.5,
        -13090.0,
        -12958.75,
        -12606.25,
        -12070.0,
        -11700.0,
        -10820.0
      ],
      "p50": [
        25000.0,
        24357.5,
        24222.5,
        23730.0,
        23452.5,
        23392.5,
        23137.5,
        22682.5,
        22655.0,
        22482.5,
        22627.5,
        22712.5,
        22452.5,
        22280.0,
        22157.5,
        22312.5,
        22152.5,
        22407.5,
        21692.5,
        22080.0,
        22020.0,
        21757.5,
        21745.0,
        21232.5,
        21165.0,
        20952.5,
        21117.5,
        20935.0,
        20490.0,
        20597.5,
        19955.0,
        19795.0,
        19450.0,
        20050.0,
        19570.0,
        19375.0,
        19062.5,
        19072.5,
        18920.0,
        18610.0,
        18645.0,
        18347.5,
        18185.0,
        18060.0,
        17747.5,
        17962.5,
        18080.0,
        18090.0,
        18115.0,
        17760.0,
        17877.5,
        17812.5,
        17390.0,
        16797.5,
        16377.5,
        16407.5,
        16257.5,
        15975.0,
        16232.5,
        16160.0,
        16002.5,
        15732.5,
        15307.5,
        15682.5,
        15885.0,
        14970.0,
        14307.5,
        14392.5,
        14485.0,
        14210.0,
        14132.5,
        13607.5,
        13557.5,
        13097.5,
        13147.5,
        12595.0,
        13200.0,
        13075.0,
        12877.5,
        12362.5,
        12282.5,
        12055.0,
        11967.5,
        12005.0,
        11290.0,
        11200.0,
        11337.5,
        11060.0,
        11465.0,
        10835.0,
        10522.5,
        10607.5,
        10692.5,
        10370.0,
        10267.5,
        9850.0,
        9312.5,
        9597.5,
        9365.0,
        9370.0,
        9555.0,
        9255.0,
        8867.5,
        8600.0,
        8282.5,
        8000.0,
        8092.5,
        7767.5,
        7537.5,
        7302.5,
        7165.0,
        7492.5,
        7075.0,
        6660.0,
        6347.5,
        6532.5,
        6642.5,
        5947.5,
        5560.0,
        5455.0,
        5292.5,
        5080.0,
        5130.0,
        4660.0,
        4537.5,
        4802.5,
        5260.0,
        4960.0,
        4627.5,
        4027.5,
        4325.0,
        4105.0,
        4172.5,
        3930.0,
        3662.5,
        3565.0,
        3395.0,
        3037.5,
        2972.5,
        2775.0,
        3252.5,
        2962.5,
        2912.5,
        2392.5,
        2567.5,
        2625.0,
        2130.0,
        1832.5,
        1462.5,
        1122.5,
        1042.5,
        640.0,
        257.5,
        242.5,
        -277.5,
        202.5,
        -117.5,
        -252.5,
        -187.5,
        -612.5,
        -1127.5,
        -1670.0,
        -1812.5,
        -1357.5,
        -1810.0,
        -2115.0,
        -1840.0,
        -1630.0,
        -1862.5,
        -2315.0,
        -2815.0,
        -2850.0,
        -3262.5,
        -3640.0,
        -3622.5,
        -4170.0,
        -4360.0,
        -4577.5,
        -4532.5,
        -4720.0,
        -5210.0,
        -5100.0,
        -5175.0,
        -4895.0,
        -4945.0,
        -5222.5,
        -5470.0,
        -5272.5,
        -5347.5,
        -5597.5,
        -5975.0,
        -6047.5,
        -6317.5,
        -6297.5,
        -6742.5,
        -6507.5,
        -6665.0,
        -6625.0,
        -6887.5,
        -7350.0,
        -7405.0,
        -7927.5,
        -7945.0,
        -7970.0,
        -8242.5,
        -8515.0,
        -8687.5,
        -8915.0,
        -9092.5,
        -9197.5,
        -9155.0,
        -9525.0,
        -9645.0,
        -9842.5,
        -9910.0,
        -10272.5,
        -10820.0
      ],
      "p75": [
        25000.0,
        26025.0,
        26265.0,
        26472.5,
        26841.25,
        26968.75,
        27071.25,
        26895.0,
        27473.75,
        28066.25,
        28161.25,
        28067.5,
        28221.25,
        28455.0,
        28521.25,
        28660.0,
        29012.5,
        28716.25,
        29015.0,
        29056.25,
        29032.5,
        29243.75,
        29116.25,
        28951.25,
        29211.25,
        29345.0,
        28880.0,
        29151.25,
        28687.5,
        28716.25,
        28557.5,
        28246.25,
        27863.75,
        28068.75,
        27796.25,
        27451.25,
        27848.75,
        27972.5,
        27762.5,
        27528.75,
        27457.5,
        27280.0,
        27693.75,
        27293.75,
        27588.75,
        27681.25,
        27070.0,
        27176.25,
        26833.75,
        26916.25,
        27147.5,
        26996.25,
        26930.0,
        27083.75,
        27033.75,
        26447.5,
        26792.5,
        27062.5,
        26662.5,
        26655.0,
        26353.75,
        26697.5,
        26498.75,
        26083.75,
        26016.25,
        25457.5,
        25718.75,
        26072.5,
        25761.25,
        25491.25,
        25618.75,
        25110.0,
        25110.0,
        25456.25,
        25023.75,
        24403.75,
        24265.0,
        23905.0,
        23561.25,
        24302.5,
        24105.0,
        24101.25,
        23633.75,
        23601.25,
        23510.0,
        23555.0,
        23362.5,
        23193.75,
        22723.75,
        23065.0,
        22523.75,
        22542.5,
        22241.25,
        22236.25,
        22276.25,
        22120.0,
        21391.25,
        21290.0,
        20923.75,
        20612.5,
        21097.5,
        21273.75,
        20705.0,
        20271.25,
        20408.75,
        20095.0,
        19741.25,
        19687.5,
        19305.0,
        19060.0,
        19355.0,
        19100.0,
        18627.5,
        18458.75,
        18300.0,
        18223.75,
        18100.0,
        18131.25,
        17726.25,
        17582.5,
        17327.5,
        16661.25,
        16796.25,
        16512.5,
        16083.75,
        15737.5,
        16165.0,
        16021.25,
        15930.0,
        15256.25,
        15076.25,
        14777.5,
        14427.5,
        14908.75,
        14405.0,
        14027.5,
        13767.5,
        13827.5,
        13072.5,
        13453.75,
        13222.5,
        12751.25,
        13037.5,
        13270.0,
        12626.25,
        12201.25,
        11870.0,
        12505.0,
        11586.25,
        11527.5,
        11217.5,
        10662.5,
        10825.0,
        10635.0,
        10216.25,
        9523.75,
        9783.75,
        9566.25,
        9341.25,
        8968.75,
        9186.25,
        8923.75,
        8636.25,
        8367.5,
        8083.75,
        7701.25,
        7670.0,
        7367.5,
        7287.5,
        7622.5,
        7021.25,
        6935.0,
        6657.5,
        6662.5,
        6055.0,
        5596.25,
        5310.0,
        4825.0,
        4888.75,
        4550.0,
        4058.75,
        4185.0,
        4052.5,
        3806.25,
        3530.0,
        3190.0,
        2750.0,
        2507.5,
        2040.0,
        1552.5,
        1565.0,
        1222.5,
        776.25,
        552.5,
        203.75,
        -75.0,
        -682.5,
        -1082.5,
        -1057.5,
        -1740.0,
        -2053.75,
        -2397.5,
        -2612.5,
        -3122.5,
        -3512.5,
        -3807.5,
        -4161.25,
        -4430.0,
        -5123.75,
        -5670.0,
        -6060.0,
        -6251.25,
        -6895.0,
        -7533.75,
        -8121.25,
        -9183.75,
        -10820.0
      ],
      "p95": [
        25000.0,
        28950.25,
        31060.5,
        31548.25,
        32611.5,
        34065.0,
        34410.0,
        34545.25,
        35390.25,
        35471.5,
        36284.5,
        36493.0,
        37058.5,
        37916.25,
        37915.75,
        37739.0,
        37898.75,
        38499.5,
        38269.5,
        39255.25,
        39036.25,
        39230.0,
        39545.0,
        39735.25,
        40233.5,
        40701.25,
        40440.5,
        40147.75,
        40970.5,
        41036.25,
        41807.75,
        41177.0,
        40963.25,
        41736.25,
        41195.75,
        41160.25,
        41175.75,
        40764.25,
        41609.5,
        41766.25,
        43100.5,
        42690.75,
        42475.75,
        41653.25,
        42181.0,
        42164.0,
        41970.5,
        41282.25,
        41621.0,
        42766.25,
        42360.75,
        42525.5,
        43221.25,
        43345.25,
        43553.0,
        42794.25,
        43872.25,
        43444.25,
        43102.25,
        43070.25,
        43359.25,
        43392.0,
        43193.25,
        42877.75,
        43792.75,
        43296.0,
        43039.0,
        42503.0,
        41593.75,
        41131.25,
        41542.5,
        42216.5,
        42387.5,
        41560.75,
        41315.0,
        41449.75,
        41110.5,
        41456.5,
        42510.0,
        41833.0,
        41912.75,
        41594.5,
        41811.5,
        41282.5,
        41793.25,
        40836.25,
        41205.75,
        41725.5,
        41322.0,
        40161.5,
        40239.0,
        38639.0,
        38676.25,
        38389.75,
        38143.25,
        38535.75,
        39012.5,
        39467.0,
        38421.25,
        38156.0,
        38150.5,
        37987.0,
        37596.25,
        37370.75,
        37665.5,
        37336.25,
        37557.5,
        37191.25,
        38194.5,
        37277.25,
        36930.5,
        36719.0,
        35680.75,
        36545.25,
        36835.5,
        35971.5,
        36515.0,
        36464.5,
        36715.25,
        36561.25,
        35340.25,
        35385.75,
        35261.25,
        34778.75,
        34898.25,
        35430.25,
        34697.25,
        34572.75,
        33150.0,
        32714.0,
        32447.5,
        32308.5,
        31130.0,
        30441.25,
        30640.5,
        30374.25,
        30005.25,
        30115.0,
        29997.5,
        29371.25,
        29235.0,
        29394.25,
        28907.5,
        28868.0,
        29885.75,
        29647.0,
        29032.5,
        28560.25,
        27574.25,
        27252.75,
        27711.5,
        26552.25,
        26569.0,
        26711.5,
        25617.25,
        24979.25,
        24441.25,
        24726.0,
        24227.0,
        23971.5,
        22792.25,
        22549.75,
        22271.5,
        22360.0,
        21882.5,
        21905.5,
        21047.75,
        21160.75,
        20453.5,
        20351.5,
        19755.5,
        20218.0,
        19384.5,
        18723.5,
        18580.75,
        18058.75,
        18334.0,
        17218.5,
        16292.75,
        16097.5,
        16848.75,
        16045.0,
        16283.5,
        14870.0,
        14432.75,
        13844.25,
        14071.5,
        13265.75,
        12959.5,
        12395.75,
        12047.75,
        11438.0,
        11048.25,
        10137.0,
        9717.0,
        9023.75,
        8797.0,
        7951.0,
        7250.75,
        6683.0,
        7101.0,
        6233.5,
        5228.0,
        4878.25,
        3876.25,
        3330.5,
        2331.25,
        1316.25,
        430.75,
        71.0,
        -1233.25,
        -2297.25,
        -3132.25,
        -4384.25,
        -5980.0,
        -7739.75,
        -10820.0
      ]
    },
    "method": "reshuffle",
    "robustness_score": null,
    "robustness_grade": null,
    "sub_results": null
  }
}