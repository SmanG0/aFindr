{
  "name": "EMA9x21CrossoverVBT",
  "description": "9 EMA crosses above/below 21 EMA with 50 point stop loss",
  "code": "import pandas as pd\nimport numpy as np\nimport ta\nfrom engine.vbt_strategy import VectorBTStrategy, TradeSignal\n\nclass EMA9x21CrossoverVBT(VectorBTStrategy):\n    def generate_signals(self, df):\n        fast_ema = ta.trend.EMAIndicator(df['close'], window=self.params.get('fast_period', 9)).ema_indicator()\n        slow_ema = ta.trend.EMAIndicator(df['close'], window=self.params.get('slow_period', 21)).ema_indicator()\n        \n        # Crossover signals\n        entries = ((fast_ema > slow_ema) & (fast_ema.shift(1) <= slow_ema.shift(1))).fillna(False).values\n        exits = ((fast_ema < slow_ema) & (fast_ema.shift(1) >= slow_ema.shift(1))).fillna(False).values\n        \n        return TradeSignal(entries=entries, exits=exits)",
  "parameters": {
    "fast_period": 9,
    "slow_period": 21,
    "stop_loss_points": 50
  },
  "symbol": "NQ=F",
  "interval": "1d",
  "created_at": "2026-02-24T00:00:46.633662",
  "backtest_metrics": {
    "total_trades": 5,
    "win_rate": 0.4,
    "loss_rate": 0.6,
    "total_return": 72217.31,
    "total_return_pct": 144.43,
    "max_drawdown": -31387.91,
    "max_drawdown_pct": -20.43,
    "max_consecutive_losses": 3,
    "max_consecutive_wins": 2,
    "profit_factor": 3.3,
    "sharpe_ratio": 6.71,
    "avg_win": 51802.61,
    "avg_loss": -10462.64,
    "sortino_ratio": 53.37,
    "calmar_ratio": 356.24,
    "recovery_factor": 2.3,
    "expectancy": 14443.46,
    "expectancy_ratio": 1.38,
    "payoff_ratio": 4.95,
    "deflated_sharpe_ratio": 2.7676,
    "dsr_pvalue": 0.0028
  },
  "monte_carlo": {
    "num_simulations": 1000,
    "num_trades": 5,
    "mean_return": 72217.31,
    "median_return": 72217.31,
    "std_return": 0.0,
    "percentile_5": 72217.31,
    "percentile_25": 72217.31,
    "percentile_75": 72217.31,
    "percentile_95": 72217.31,
    "mean_max_drawdown": -23853.74,
    "median_max_drawdown": -23217.01,
    "worst_max_drawdown": -31387.91,
    "percentile_95_drawdown": -31387.91,
    "probability_of_ruin": 10.5,
    "probability_of_profit": 100.0,
    "equity_percentiles": {
      "p5": [
        50000.0,
        33519.01,
        25348.11,
        18612.09,
        46641.56,
        122217.31
      ],
      "p25": [
        50000.0,
        41829.1,
        35093.08,
        54812.46,
        94187.84,
        122217.31
      ],
      "p50": [
        50000.0,
        43263.98,
        69858.57,
        102358.74,
        128953.33,
        122217.31
      ],
      "p75": [
        50000.0,
        78029.47,
        117404.85,
        137124.23,
        130388.21,
        122217.31
      ],
      "p95": [
        50000.0,
        125575.75,
        153605.22,
        146869.2,
        138698.3,
        122217.31
      ]
    },
    "method": "reshuffle",
    "robustness_score": null,
    "robustness_grade": null,
    "sub_results": null
  }
}